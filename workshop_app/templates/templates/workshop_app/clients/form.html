{% extends 'workshop_app/base.html' %}

{% block title %}{{ title }} | Workshop Management System{% endblock %}

{% block content %}
    <div style="margin-bottom: 1rem;">
        <a href="{% if is_new %}{% url 'workshop_app:client_list' %}{% else %}{% url 'workshop_app:client_detail' client.client_id %}{% endif %}" class="btn btn-secondary">‚Üê Back</a>
    </div>
    
    <h2>{{ title }}</h2>
    
    <div style="max-width: 800px; margin: 0 auto;">
        {% if messages %}
            <div style="margin-bottom: 1rem;">
                {% for message in messages %}
                    <div style="padding: 0.5rem 1rem; background-color: {% if message.tags == 'success' %}#d4edda{% else %}#f8d7da{% endif %}; border-radius: 4px;">
                        {{ message }}
                    </div>
                {% endfor %}
            </div>
        {% endif %}
        
        <form method="post">
            {% csrf_token %}
            
            <!-- Basic Information -->
            <h3>Basic Information</h3>
            <div style="display: flex; gap: 1rem; flex-wrap: wrap; margin-bottom: 1.5rem;">
                <div style="flex: 1; min-width: 200px;">
                    <div style="margin-bottom: 1rem;">
                        <label for="{{ form.name.id_for_label }}">{{ form.name.label }}:</label>
                        {{ form.name }}
                        {% if form.name.help_text %}
                            <div style="font-size: 0.8rem; color: #666;">{{ form.name.help_text }}</div>
                        {% endif %}
                        {% if form.name.errors %}
                            <div style="color: red;">{{ form.name.errors }}</div>
                        {% endif %}
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 200px;">
                    <div style="margin-bottom: 1rem;">
                        <label for="{{ form.type.id_for_label }}">{{ form.type.label }}:</label>
                        {{ form.type }}
                        {% if form.type.help_text %}
                            <div style="font-size: 0.8rem; color: #666;">{{ form.type.help_text }}</div>
                        {% endif %}
                        {% if form.type.errors %}
                            <div style="color: red;">{{ form.type.errors }}</div>
                        {% endif %}
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 200px;">
                    <div style="margin-bottom: 1rem;">
                        <label for="{{ form.industry.id_for_label }}">{{ form.industry.label }}:</label>
                        {{ form.industry }}
                        {% if form.industry.help_text %}
                            <div style="font-size: 0.8rem; color: #666;">{{ form.industry.help_text }}</div>
                        {% endif %}
                        {% if form.industry.errors %}
                            <div style="color: red;">{{ form.industry.errors }}</div>
                        {% endif %}
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 200px;">
                    <div style="margin-bottom: 1rem;">
                        <label for="{{ form.reference_source.id_for_label }}">{{ form.reference_source.label }}:</label>
                        {{ form.reference_source }}
                        {% if form.reference_source.help_text %}
                            <div style="font-size: 0.8rem; color: #666;">{{ form.reference_source.help_text }}</div>
                        {% endif %}
                        {% if form.reference_source.errors %}
                            <div style="color: red;">{{ form.reference_source.errors }}</div>
                        {% endif %}
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 200px;">
                    <div style="margin-bottom: 1rem;">
                        <label for="{{ form.status.id_for_label }}">{{ form.status.label }}:</label>
                        {{ form.status }}
                        {% if form.status.help_text %}
                            <div style="font-size: 0.8rem; color: #666;">{{ form.status.help_text }}</div>
                        {% endif %}
                        {% if form.status.errors %}
                            <div style="color: red;">{{ form.status.errors }}</div>
                        {% endif %}
                    </div>
                </div>
            </div>
            
            <!-- Contact Information -->
            <h3>Contact Information</h3>
            <div style="display: flex; gap: 1rem; flex-wrap: wrap; margin-bottom: 1.5rem;">
                <div style="flex: 1; min-width: 200px;">
                    <div style="margin-bottom: 1rem;">
                        <label for="{{ form.primary_email.id_for_label }}">{{ form.primary_email.label }}:</label>
                        {{ form.primary_email }}
                        {% if form.primary_email.help_text %}
                            <div style="font-size: 0.8rem; color: #666;">{{ form.primary_email.help_text }}</div>
                        {% endif %}
                        {% if form.primary_email.errors %}
                            <div style="color: red;">{{ form.primary_email.errors }}</div>
                        {% endif %}
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 200px;">
                    <div style="margin-bottom: 1rem;">
                        <label for="{{ form.secondary_email.id_for_label }}">{{ form.secondary_email.label }}:</label>
                        {{ form.secondary_email }}
                        {% if form.secondary_email.help_text %}
                            <div style="font-size: 0.8rem; color: #666;">{{ form.secondary_email.help_text }}</div>
                        {% endif %}
                        {% if form.secondary_email.errors %}
                            <div style="color: red;">{{ form.secondary_email.errors }}</div>
                        {% endif %}
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 200px;">
                    <div style="margin-bottom: 1rem;">
                        <label for="{{ form.phone_number.id_for_label }}">{{ form.phone_number.label }}:</label>
                        {{ form.phone_number }}
                        {% if form.phone_number.help_text %}
                            <div style="font-size: 0.8rem; color: #666;">{{ form.phone_number.help_text }}</div>
                        {% endif %}
                        {% if form.phone_number.errors %}
                            <div style="color: red;">{{ form.phone_number.errors }}</div>
                        {% endif %}
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 200px;">
                    <div style="margin-bottom: 1rem;">
                        <label for="{{ form.mobile_number.id_for_label }}">{{ form.mobile_number.label }}:</label>
                        {{ form.mobile_number }}
                        {% if form.mobile_number.help_text %}
                            <div style="font-size: 0.8rem; color: #666;">{{ form.mobile_number.help_text }}</div>
                        {% endif %}
                        {% if form.mobile_number.errors %}
                            <div style="color: red;">{{ form.mobile_number.errors }}</div>
                        {% endif %}
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 200px;">
                    <div style="margin-bottom: 1rem;">
                        <label for="{{ form.website.id_for_label }}">{{ form.website.label }}:</label>
                        {{ form.website }}
                        {% if form.website.help_text %}
                            <div style="font-size: 0.8rem; color: #666;">{{ form.website.help_text }}</div>
                        {% endif %}
                        {% if form.website.errors %}
                            <div style="color: red;">{{ form.website.errors }}</div>
                        {% endif %}
                    </div>
                </div>
                
                <div style="flex: 2; min-width: 300px;">
                    <div style="margin-bottom: 1rem;">
                        <label for="{{ form.social_media.id_for_label }}">{{ form.social_media.label }}:</label>
                        {{ form.social_media }}
                        {% if form.social_media.help_text %}
                            <div style="font-size: 0.8rem; color: #666;">{{ form.social_media.help_text }}</div>
                        {% endif %}
                        {% if form.social_media.errors %}
                            <div style="color: red;">{{ form.social_media.errors }}</div>
                        {% endif %}
                    </div>
                </div>
            </div>
            
            <!-- Address -->
            <h3>Address</h3>
            <div style="display: flex; gap: 1rem; flex-wrap: wrap; margin-bottom: 1.5rem;">
                <div style="flex: 1; min-width: 300px;">
                    <div style="margin-bottom: 1rem;">
                        <label for="{{ form.street_address.id_for_label }}">{{ form.street_address.label }}:</label>
                        {{ form.street_address }}
                        {% if form.street_address.help_text %}
                            <div style="font-size: 0.8rem; color: #666;">{{ form.street_address.help_text }}</div>
                        {% endif %}
                        {% if form.street_address.errors %}
                            <div style="color: red;">{{ form.street_address.errors }}</div>
                        {% endif %}
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 300px;">
                    <div style="margin-bottom: 1rem;">
                        <label for="{{ form.address_line_2.id_for_label }}">{{ form.address_line_2.label }}:</label>
                        {{ form.address_line_2 }}
                        {% if form.address_line_2.help_text %}
                            <div style="font-size: 0.8rem; color: #666;">{{ form.address_line_2.help_text }}</div>
                        {% endif %}
                        {% if form.address_line_2.errors %}
                            <div style="color: red;">{{ form.address_line_2.errors }}</div>
                        {% endif %}
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 200px;">
                    <div style="margin-bottom: 1rem;">
                        <label for="{{ form.city.id_for_label }}">{{ form.city.label }}:</label>
                        {{ form.city }}
                        {% if form.city.help_text %}
                            <div style="font-size: 0.8rem; color: #666;">{{ form.city.help_text }}</div>
                        {% endif %}
                        {% if form.city.errors %}
                            <div style="color: red;">{{ form.city.errors }}</div>
                        {% endif %}
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 200px;">
                    <div style="margin-bottom: 1rem;">
                        <label for="{{ form.state_province.id_for_label }}">{{ form.state_province.label }}:</label>
                        {{ form.state_province }}
                        {% if form.state_province.help_text %}
                            <div style="font-size: 0.8rem; color: #666;">{{ form.state_province.help_text }}</div>
                        {% endif %}
                        {% if form.state_province.errors %}
                            <div style="color: red;">{{ form.state_province.errors }}</div>
                        {% endif %}
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 200px;">
                    <div style="margin-bottom: 1rem;">
                        <label for="{{ form.postal_code.id_for_label }}">{{ form.postal_code.label }}:</label>
                        {{ form.postal_code }}
                        {% if form.postal_code.help_text %}
                            <div style="font-size: 0.8rem; color: #666;">{{ form.postal_code.help_text }}</div>
                        {% endif %}
                        {% if form.postal_code.errors %}
                            <div style="color: red;">{{ form.postal_code.errors }}</div>
                        {% endif %}
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 200px;">
                    <div style="margin-bottom: 1rem;">
                        <label for="{{ form.country.id_for_label }}">{{ form.country.label }}:</label>
                        {{ form.country }}
                        {% if form.country.help_text %}
                            <div style="font-size: 0.8rem; color: #666;">{{ form.country.help_text }}</div>
                        {% endif %}
                        {% if form.country.errors %}
                            <div style="color: red;">{{ form.country.errors }}</div>
                        {% endif %}
                    </div>
                </div>
            </div>
            
            <!-- Financial Information -->
            <h3>Financial Information</h3>
            <div style="display: flex; gap: 1rem; flex-wrap: wrap; margin-bottom: 1.5rem;">
                <div style="flex: 1; min-width: 200px;">
                    <div style="margin-bottom: 1rem;">
                        <label for="{{ form.tax_id.id_for_label }}">{{ form.tax_id.label }}:</label>
                        {{ form.tax_id }}
                        {% if form.tax_id.help_text %}
                            <div style="font-size: 0.8rem; color: #666;">{{ form.tax_id.help_text }}</div>
                        {% endif %}
                        {% if form.tax_id.errors %}
                            <div style="color: red;">{{ form.tax_id.errors }}</div>
                        {% endif %}
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 200px;">
                    <div style="margin-bottom: 1rem;">
                        <label for="{{ form.payment_terms.id_for_label }}">{{ form.payment_terms.label }}:</label>
                        {{ form.payment_terms }}
                        {% if form.payment_terms.help_text %}
                            <div style="font-size: 0.8rem; color: #666;">{{ form.payment_terms.help_text }}</div>
                        {% endif %}
                        {% if form.payment_terms.errors %}
                            <div style="color: red;">{{ form.payment_terms.errors }}</div>
                        {% endif %}
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 200px;">
                    <div style="margin-bottom: 1rem;">
                        <label for="{{ form.currency.id_for_label }}">{{ form.currency.label }}:</label>
                        {{ form.currency }}
                        {% if form.currency.help_text %}
                            <div style="font-size: 0.8rem; color: #666;">{{ form.currency.help_text }}</div>
                        {% endif %}
                        {% if form.currency.errors %}
                            <div style="color: red;">{{ form.currency.errors }}</div>
                        {% endif %}
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 200px;">
                    <div style="margin-bottom: 1rem;">
                        <label for="{{ form.discount_rate.id_for_label }}">{{ form.discount_rate.label }}:</label>
                        {{ form.discount_rate }}
                        {% if form.discount_rate.help_text %}
                            <div style="font-size: 0.8rem; color: #666;">{{ form.discount_rate.help_text }}</div>
                        {% endif %}
                        {% if form.discount_rate.errors %}
                            <div style="color: red;">{{ form.discount_rate.errors }}</div>
                        {% endif %}
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 200px;">
                    <div style="margin-bottom: 1rem;">
                        <label for="{{ form.credit_limit.id_for_label }}">{{ form.credit_limit.label }}:</label>
                        {{ form.credit_limit }}
                        {% if form.credit_limit.help_text %}
                            <div style="font-size: 0.8rem; color: #666;">{{ form.credit_limit.help_text }}</div>
                        {% endif %}
                        {% if form.credit_limit.errors %}
                            <div style="color: red;">{{ form.credit_limit.errors }}</div>
                        {% endif %}
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 200px;">
                    <div style="margin-bottom: 1rem;">
                        <label for="{{ form.account_status.id_for_label }}">{{ form.account_status.label }}:</label>
                        {{ form.account_status }}
                        {% if form.account_status.help_text %}
                            <div style="font-size: 0.8rem; color: #666;">{{ form.account_status.help_text }}</div>
                        {% endif %}
                        {% if form.account_status.errors %}
                            <div style="color: red;">{{ form.account_status.errors }}</div>
                        {% endif %}
                    </div>
                </div>
            </div>
            
            <!-- Additional Information -->
            <h3>Additional Information</h3>
            <div style="margin-bottom: 1rem;">
                <label for="{{ form.notes.id_for_label }}">{{ form.notes.label }}:</label>
                {{ form.notes }}
                {% if form.notes.help_text %}
                    <div style="font-size: 0.8rem; color: #666;">{{ form.notes.help_text }}</div>
                {% endif %}
                {% if form.notes.errors %}
                    <div style="color: red;">{{ form.notes.errors }}</div>
                {% endif %}
            </div>
            
            <div style="margin-top: 1rem; text-align: right;">
                <button type="submit" class="btn">Save Client</button>
                <a href="{% if is_new %}{% url 'workshop_app:client_list' %}{% else %}{% url 'workshop_app:client_detail' client.client_id %}{% endif %}" class="btn btn-secondary">Cancel</a>
            </div>
        </form>
    </div>
{% endblock %}
